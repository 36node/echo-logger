{
	"info": {
		"_postman_id": "88a3bdfc-db8b-4429-9996-c45161020dca",
		"name": "Repair Service",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "repair",
			"item": [
				{
					"name": "创建 Repair",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2a00626a-f41e-4cc0-87ee-80c4fdfff790",
								"exec": [
									"var Ajv = require('ajv');",
									"var ajv = new Ajv({ logger: console, coerceTypes: true, unknownFormats: [\"int32\"] });",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"  pm.response.to.have.status(201);",
									"});",
									"",
									"const schema = {\"type\":\"object\",\"required\":[],\"properties\":{\"content\":{\"allOf\":[{\"type\":\"object\",\"properties\":{\"ticket\":{\"type\":\"string\"},\"status\":{\"type\":\"string\",\"enum\":[\"CREATING\",\"FILLING\",\"DELIVERED\",\"REPARING\",\"REPARED\",\"PAUSING\",\"PENDING\",\"PASSED\"]},\"rejected\":{\"type\":\"boolean\"},\"crm\":{\"type\":\"string\"},\"vehicle\":{\"type\":\"string\"},\"plate\":{\"type\":\"string\"},\"vin\":{\"type\":\"string\"},\"address\":{\"type\":\"string\"},\"reporter\":{\"type\":\"string\"},\"reporterPhone\":{\"type\":\"string\"},\"problem\":{\"type\":\"string\"},\"assignee\":{\"type\":\"string\"},\"assigneAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"closeAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"record\":{\"type\":\"object\",\"required\":[\"signAddress\",\"arrivalAt\",\"mileages\",\"faultCell\",\"workHours\",\"failReason\",\"processMethod\",\"faultAttr\",\"faultMode\",\"livePic\",\"resultDesc\",\"softwarePic\",\"frontPic\",\"nameplatePic\",\"meterPic\",\"batteryPic\",\"workers\"],\"properties\":{\"signAddress\":{\"type\":\"string\"},\"arrivalAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"mileages\":{\"type\":\"string\"},\"routeMap\":{\"type\":\"string\"},\"faultCell\":{\"type\":\"string\"},\"workHours\":{\"type\":\"string\"},\"failReason\":{\"type\":\"string\"},\"processMethod\":{\"type\":\"string\"},\"faultAttr\":{\"type\":\"string\"},\"faultMode\":{\"type\":\"string\"},\"backups\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"itemNo\":{\"type\":\"string\"},\"unitPrice\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"},\"free\":{\"type\":\"boolean\"}}}},\"livePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"resultDesc\":{\"type\":\"string\"},\"softwarePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"frontPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"nameplatePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"meterPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"batteryPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"otherPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"dataFile\":{\"type\":\"string\"},\"otherCost\":{\"type\":\"string\"},\"remark\":{\"type\":\"string\"},\"workers\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"user\":{\"type\":\"string\"},\"mileages\":{\"type\":\"string\"},\"Workload\":{\"type\":\"number\"}}}},\"pauseReason\":{\"type\":\"string\"}}},\"pauseReason\":{\"type\":\"string\"},\"maintain\":{\"type\":\"string\"}}},{\"type\":\"object\",\"required\":[\"id\"],\"properties\":{\"id\":{\"type\":\"string\"},\"updateAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"updateBy\":{\"type\":\"string\"},\"createAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"createBy\":{\"type\":\"string\"}}}]}}};",
									"const res = {",
									"  content: pm.response.json(),",
									"  headers: pm.response.headers.reduce((c, k) => ({...c, [k.key]: k.value }), {})",
									"}",
									"pm.test(\"Json body schema test\", function(){",
									"  pm.expect(ajv.validate(schema, res)).to.be.true;",
									"});",
									"",
									"// 为后续测试准备数据",
									"pm.environment.set(\"REPAIR_A\", res.content.id);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"maintain\": \"maintain\",\n  \"vehicle\": \"vehicle\",\n  \"plate\": \"plate\",\n  \"vin\": \"vin\",\n  \"address\": \"address\",\n  \"reporter\": \"reporter\",\n  \"reporterPhone\": \"reporterPhone\",\n  \"problem\": \"problem\",\n  \"assignee\": \"5f8cfee1b7aa21001123bbd2\",\n  \"assignAt\": \"2020-10-28T00:00:00Z\",\n  \"createBy\": \"5f8cfee1b7aa21001123bbd2\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/repairs",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"repairs"
							]
						}
					},
					"response": [
						{
							"name": "Response_201",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"maintain\": \"{{maintain}}\",\n  \"vehicle\": \"{{vehicle}}\",\n  \"plate\": \"{{plate}}\",\n  \"vin\": \"{{vin}}\",\n  \"address\": \"{{address}}\",\n  \"reporter\": \"{{reporter}}\",\n  \"reporterPhone\": \"{{reporterPhone}}\",\n  \"problem\": \"{{problem}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/repairs",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"repairs"
									]
								}
							},
							"status": "The repair order created",
							"code": 201,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": ""
						}
					]
				},
				{
					"name": "Repairs 列表",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "62b463b0-68ad-4a5e-b695-6b74a2eb893f",
								"exec": [
									"var Ajv = require('ajv');",
									"var ajv = new Ajv({ logger: console, coerceTypes: true, unknownFormats: [\"int32\"] });",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"",
									"const schema = {\"type\":\"object\",\"required\":[],\"properties\":{\"content\":{\"type\":\"array\",\"items\":{\"allOf\":[{\"type\":\"object\",\"properties\":{\"ticket\":{\"type\":\"string\"},\"status\":{\"type\":\"string\",\"enum\":[\"CREATING\",\"FILLING\",\"DELIVERED\",\"REPARING\",\"REPARED\",\"PAUSING\",\"PENDING\",\"PASSED\"]},\"rejected\":{\"type\":\"boolean\"},\"crm\":{\"type\":\"string\"},\"vehicle\":{\"type\":\"string\"},\"plate\":{\"type\":\"string\"},\"vin\":{\"type\":\"string\"},\"address\":{\"type\":\"string\"},\"reporter\":{\"type\":\"string\"},\"reporterPhone\":{\"type\":\"string\"},\"problem\":{\"type\":\"string\"},\"assignee\":{\"type\":\"string\"},\"assigneAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"closeAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"record\":{\"type\":\"object\",\"required\":[\"signAddress\",\"arrivalAt\",\"mileages\",\"faultCell\",\"workHours\",\"failReason\",\"processMethod\",\"faultAttr\",\"faultMode\",\"livePic\",\"resultDesc\",\"softwarePic\",\"frontPic\",\"nameplatePic\",\"meterPic\",\"batteryPic\",\"workers\"],\"properties\":{\"signAddress\":{\"type\":\"string\"},\"arrivalAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"mileages\":{\"type\":\"string\"},\"routeMap\":{\"type\":\"string\"},\"faultCell\":{\"type\":\"string\"},\"workHours\":{\"type\":\"string\"},\"failReason\":{\"type\":\"string\"},\"processMethod\":{\"type\":\"string\"},\"faultAttr\":{\"type\":\"string\"},\"faultMode\":{\"type\":\"string\"},\"backups\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"itemNo\":{\"type\":\"string\"},\"unitPrice\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"},\"free\":{\"type\":\"boolean\"}}}},\"livePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"resultDesc\":{\"type\":\"string\"},\"softwarePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"frontPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"nameplatePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"meterPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"batteryPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"otherPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"dataFile\":{\"type\":\"string\"},\"otherCost\":{\"type\":\"string\"},\"remark\":{\"type\":\"string\"},\"workers\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"user\":{\"type\":\"string\"},\"mileages\":{\"type\":\"string\"},\"Workload\":{\"type\":\"number\"}}}},\"pauseReason\":{\"type\":\"string\"}}},\"pauseReason\":{\"type\":\"string\"},\"maintain\":{\"type\":\"string\"}}},{\"type\":\"object\",\"required\":[\"id\"],\"properties\":{\"id\":{\"type\":\"string\"},\"updateAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"updateBy\":{\"type\":\"string\"},\"createAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"createBy\":{\"type\":\"string\"}}}]}},\"headers\":{\"type\":\"object\",\"required\":[\"X-Total-Count\"],\"properties\":{\"X-Total-Count\":{\"type\":\"integer\"}}}}};",
									"const res = {",
									"  content: pm.response.json(),",
									"  headers: pm.response.headers.reduce((c, k) => ({...c, [k.key]: k.value }), {})",
									"}",
									"pm.test(\"Json body schema test\", function(){",
									"  pm.expect(ajv.validate(schema, res)).to.be.true;",
									"})",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/repairs",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"repairs"
							],
							"query": [
								{
									"key": "_limit",
									"value": "",
									"disabled": true
								},
								{
									"key": "_offset",
									"value": "",
									"disabled": true
								},
								{
									"key": "_sort",
									"value": "",
									"disabled": true
								},
								{
									"key": "_select",
									"value": "",
									"disabled": true
								},
								{
									"key": "id_like",
									"value": "",
									"disabled": true
								},
								{
									"key": "status",
									"value": "",
									"disabled": true
								},
								{
									"key": "createAt_gt",
									"value": "",
									"disabled": true
								},
								{
									"key": "createAt_lt",
									"value": "",
									"disabled": true
								},
								{
									"key": "dispatchWorker_like",
									"value": "",
									"disabled": true
								},
								{
									"key": "plate_like",
									"value": "",
									"disabled": true
								},
								{
									"key": "crm_like",
									"value": "",
									"disabled": true
								},
								{
									"key": "vin_like",
									"value": "",
									"disabled": true
								}
							]
						}
					},
					"response": [
						{
							"name": "Response_200",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/repairs?_limit=&_offset=&_sort=&_select=&id_like=&status=&createAt_gt=&createAt_lt=&dispatchWorker_like=&plate_like=&crm_like=&vin_like=",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"repairs"
									],
									"query": [
										{
											"key": "_limit",
											"value": ""
										},
										{
											"key": "_offset",
											"value": ""
										},
										{
											"key": "_sort",
											"value": ""
										},
										{
											"key": "_select",
											"value": ""
										},
										{
											"key": "id_like",
											"value": ""
										},
										{
											"key": "status",
											"value": ""
										},
										{
											"key": "createAt_gt",
											"value": ""
										},
										{
											"key": "createAt_lt",
											"value": ""
										},
										{
											"key": "dispatchWorker_like",
											"value": ""
										},
										{
											"key": "plate_like",
											"value": ""
										},
										{
											"key": "crm_like",
											"value": ""
										},
										{
											"key": "vin_like",
											"value": ""
										}
									]
								}
							},
							"status": "A paged array of repair orders",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-type",
									"value": "application/json"
								},
								{
									"key": "X-Total-Count",
									"value": "unset"
								}
							],
							"cookie": [],
							"body": ""
						}
					]
				},
				{
					"name": "查看 REPAIR_A",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "60dfa46c-65e2-4ea6-a883-899b3f190d4c",
								"exec": [
									"var Ajv = require('ajv');",
									"var ajv = new Ajv({ logger: console, coerceTypes: true, unknownFormats: [\"int32\"] });",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"",
									"const schema = {\"type\":\"object\",\"required\":[],\"properties\":{\"content\":{\"allOf\":[{\"type\":\"object\",\"properties\":{\"ticket\":{\"type\":\"string\"},\"status\":{\"type\":\"string\",\"enum\":[\"CREATING\",\"FILLING\",\"DELIVERED\",\"REPARING\",\"REPARED\",\"PAUSING\",\"PENDING\",\"PASSED\"]},\"rejected\":{\"type\":\"boolean\"},\"crm\":{\"type\":\"string\"},\"vehicle\":{\"type\":\"string\"},\"plate\":{\"type\":\"string\"},\"vin\":{\"type\":\"string\"},\"address\":{\"type\":\"string\"},\"reporter\":{\"type\":\"string\"},\"reporterPhone\":{\"type\":\"string\"},\"problem\":{\"type\":\"string\"},\"assignee\":{\"type\":\"string\"},\"assigneAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"closeAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"record\":{\"type\":\"object\",\"required\":[\"signAddress\",\"arrivalAt\",\"mileages\",\"faultCell\",\"workHours\",\"failReason\",\"processMethod\",\"faultAttr\",\"faultMode\",\"livePic\",\"resultDesc\",\"softwarePic\",\"frontPic\",\"nameplatePic\",\"meterPic\",\"batteryPic\",\"workers\"],\"properties\":{\"signAddress\":{\"type\":\"string\"},\"arrivalAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"mileages\":{\"type\":\"string\"},\"routeMap\":{\"type\":\"string\"},\"faultCell\":{\"type\":\"string\"},\"workHours\":{\"type\":\"string\"},\"failReason\":{\"type\":\"string\"},\"processMethod\":{\"type\":\"string\"},\"faultAttr\":{\"type\":\"string\"},\"faultMode\":{\"type\":\"string\"},\"backups\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"itemNo\":{\"type\":\"string\"},\"unitPrice\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"},\"free\":{\"type\":\"boolean\"}}}},\"livePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"resultDesc\":{\"type\":\"string\"},\"softwarePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"frontPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"nameplatePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"meterPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"batteryPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"otherPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"dataFile\":{\"type\":\"string\"},\"otherCost\":{\"type\":\"string\"},\"remark\":{\"type\":\"string\"},\"workers\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"user\":{\"type\":\"string\"},\"mileages\":{\"type\":\"string\"},\"Workload\":{\"type\":\"number\"}}}},\"pauseReason\":{\"type\":\"string\"}}},\"pauseReason\":{\"type\":\"string\"},\"maintain\":{\"type\":\"string\"}}},{\"type\":\"object\",\"required\":[\"id\"],\"properties\":{\"id\":{\"type\":\"string\"},\"updateAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"updateBy\":{\"type\":\"string\"},\"createAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"createBy\":{\"type\":\"string\"}}}]}}};",
									"const res = {",
									"  content: pm.response.json(),",
									"  headers: pm.response.headers.reduce((c, k) => ({...c, [k.key]: k.value }), {})",
									"}",
									"pm.test(\"Json body schema test\", function(){",
									"  pm.expect(ajv.validate(schema, res)).to.be.true;",
									"})",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/repairs/:repairId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"repairs",
								":repairId"
							],
							"variable": [
								{
									"id": "719c4292-4cd2-4720-8243-ac7897345539",
									"key": "repairId",
									"value": "{{REPAIR_A}}",
									"type": "string"
								}
							]
						}
					},
					"response": [
						{
							"name": "Response_200",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/repairs/:repairId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"repairs",
										":repairId"
									],
									"variable": [
										{
											"key": "repairId",
											"value": "{{repairId}}"
										}
									]
								}
							},
							"status": "Expected response to a valid request",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": ""
						}
					]
				},
				{
					"name": "修改 REPAIR_A",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a336561c-658e-4767-adbd-c2bbb0e392d4",
								"exec": [
									"var Ajv = require('ajv');",
									"var ajv = new Ajv({ logger: console, coerceTypes: true, unknownFormats: [\"int32\"] });",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"",
									"const schema = {\"type\":\"object\",\"required\":[],\"properties\":{\"content\":{\"allOf\":[{\"type\":\"object\",\"properties\":{\"ticket\":{\"type\":\"string\"},\"status\":{\"type\":\"string\",\"enum\":[\"CREATING\",\"FILLING\",\"DELIVERED\",\"REPARING\",\"REPARED\",\"PAUSING\",\"PENDING\",\"PASSED\"]},\"rejected\":{\"type\":\"boolean\"},\"crm\":{\"type\":\"string\"},\"vehicle\":{\"type\":\"string\"},\"plate\":{\"type\":\"string\"},\"vin\":{\"type\":\"string\"},\"address\":{\"type\":\"string\"},\"reporter\":{\"type\":\"string\"},\"reporterPhone\":{\"type\":\"string\"},\"problem\":{\"type\":\"string\"},\"assignee\":{\"type\":\"string\"},\"assigneAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"closeAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"record\":{\"type\":\"object\",\"required\":[\"signAddress\",\"arrivalAt\",\"mileages\",\"faultCell\",\"workHours\",\"failReason\",\"processMethod\",\"faultAttr\",\"faultMode\",\"livePic\",\"resultDesc\",\"softwarePic\",\"frontPic\",\"nameplatePic\",\"meterPic\",\"batteryPic\",\"workers\"],\"properties\":{\"signAddress\":{\"type\":\"string\"},\"arrivalAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"mileages\":{\"type\":\"string\"},\"routeMap\":{\"type\":\"string\"},\"faultCell\":{\"type\":\"string\"},\"workHours\":{\"type\":\"string\"},\"failReason\":{\"type\":\"string\"},\"processMethod\":{\"type\":\"string\"},\"faultAttr\":{\"type\":\"string\"},\"faultMode\":{\"type\":\"string\"},\"backups\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"itemNo\":{\"type\":\"string\"},\"unitPrice\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"},\"free\":{\"type\":\"boolean\"}}}},\"livePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"resultDesc\":{\"type\":\"string\"},\"softwarePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"frontPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"nameplatePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"meterPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"batteryPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"otherPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"dataFile\":{\"type\":\"string\"},\"otherCost\":{\"type\":\"string\"},\"remark\":{\"type\":\"string\"},\"workers\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"user\":{\"type\":\"string\"},\"mileages\":{\"type\":\"string\"},\"Workload\":{\"type\":\"number\"}}}},\"pauseReason\":{\"type\":\"string\"}}},\"pauseReason\":{\"type\":\"string\"},\"maintain\":{\"type\":\"string\"}}},{\"type\":\"object\",\"required\":[\"id\"],\"properties\":{\"id\":{\"type\":\"string\"},\"updateAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"updateBy\":{\"type\":\"string\"},\"createAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"createBy\":{\"type\":\"string\"}}}]}}};",
									"const res = {",
									"  content: pm.response.json(),",
									"  headers: pm.response.headers.reduce((c, k) => ({...c, [k.key]: k.value }), {})",
									"}",
									"pm.test(\"Json body schema test\", function(){",
									"  pm.expect(ajv.validate(schema, res)).to.be.true;",
									"})",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"ticket\": \"ticket-update\",\n  \"status\": \"PENDING\",\n  \"rejected\": false,\n  \"crm\": \"crm-update\",\n  \"vehicle\": \"vehicle-update\",\n  \"plate\": \"plate-update\",\n  \"vin\": \"vin-update\",\n  \"address\": \"address-update\",\n  \"reporter\": \"reporter-update\",\n  \"reporterPhone\": \"reporterPhone-update\",\n  \"problem\": \"problem-update\",\n  \"assignee\": \"assignee-update\",\n  \"assigneAt\": \"2020-10-19T14:34:59.461Z\",\n  \"closeAt\": \"2020-10-19T14:34:59.461Z\",\n  \"pauseReason\": \"pauseReason-update\",\n  \"maintain\": \"maintain-update\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/repairs/:repairId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"repairs",
								":repairId"
							],
							"variable": [
								{
									"id": "e8cf71ef-51fe-44b3-a5c8-aa59b5ea7d27",
									"key": "repairId",
									"value": "{{REPAIR_A}}",
									"type": "string"
								}
							]
						}
					},
					"response": [
						{
							"name": "Response_200",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"ticket\": \"{{ticket}}\",\n  \"status\": \"{{status}}\",\n  \"rejected\": \"{{rejected}}\",\n  \"crm\": \"{{crm}}\",\n  \"vehicle\": \"{{vehicle}}\",\n  \"plate\": \"{{plate}}\",\n  \"vin\": \"{{vin}}\",\n  \"address\": \"{{address}}\",\n  \"reporter\": \"{{reporter}}\",\n  \"reporterPhone\": \"{{reporterPhone}}\",\n  \"problem\": \"{{problem}}\",\n  \"assignee\": \"{{assignee}}\",\n  \"assigneAt\": \"{{assigneAt}}\",\n  \"closeAt\": \"{{closeAt}}\",\n  \"record\": \"{{record}}\",\n  \"pauseReason\": \"{{pauseReason}}\",\n  \"maintain\": \"{{maintain}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/repairs/:repairId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"repairs",
										":repairId"
									],
									"variable": [
										{
											"key": "repairId",
											"value": "{{repairId}}"
										}
									]
								}
							},
							"status": "The repair order",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": ""
						}
					]
				},
				{
					"name": "修改 REPAIR_A 维修记录",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "76913097-c5c0-41df-a9ba-bd84650c8da9",
								"exec": [
									"var Ajv = require('ajv');",
									"var ajv = new Ajv({ logger: console, coerceTypes: true, unknownFormats: [\"int32\"] });",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"",
									"const schema = {\"type\":\"object\",\"required\":[],\"properties\":{\"content\":{\"type\":\"object\",\"required\":[\"signAddress\",\"arrivalAt\",\"mileages\",\"faultCell\",\"workHours\",\"failReason\",\"processMethod\",\"faultAttr\",\"faultMode\",\"livePic\",\"resultDesc\",\"softwarePic\",\"frontPic\",\"nameplatePic\",\"meterPic\",\"batteryPic\",\"workers\"],\"properties\":{\"signAddress\":{\"type\":\"string\"},\"arrivalAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"mileages\":{\"type\":\"string\"},\"routeMap\":{\"type\":\"string\"},\"faultCell\":{\"type\":\"string\"},\"workHours\":{\"type\":\"string\"},\"failReason\":{\"type\":\"string\"},\"processMethod\":{\"type\":\"string\"},\"faultAttr\":{\"type\":\"string\"},\"faultMode\":{\"type\":\"string\"},\"backups\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"itemNo\":{\"type\":\"string\"},\"unitPrice\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"},\"free\":{\"type\":\"boolean\"}}}},\"livePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"resultDesc\":{\"type\":\"string\"},\"softwarePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"frontPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"nameplatePic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"meterPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"batteryPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"otherPic\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"dataFile\":{\"type\":\"string\"},\"otherCost\":{\"type\":\"string\"},\"remark\":{\"type\":\"string\"},\"workers\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"user\":{\"type\":\"string\"},\"mileages\":{\"type\":\"string\"},\"Workload\":{\"type\":\"number\"}}}},\"pauseReason\":{\"type\":\"string\"}}}}};",
									"const res = {",
									"  content: pm.response.json(),",
									"  headers: pm.response.headers.reduce((c, k) => ({...c, [k.key]: k.value }), {})",
									"}",
									"pm.test(\"Json body schema test\", function(){",
									"  pm.expect(ajv.validate(schema, res)).to.be.true;",
									"})",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"signAddress\": \"signAddress-update\",\n  \"arrivalAt\": \"2020-10-19T14:34:59.461Z\",\n  \"mileages\": \"mileages-update\",\n  \"routeMap\": \"routeMap-update\",\n  \"faultCell\": \"faultCell-update\",\n  \"workHours\": \"workHours-update\",\n  \"failReason\": \"failReason-update\",\n  \"processMethod\": \"processMethod-update\",\n  \"faultAttr\": \"faultAttr-update\",\n  \"faultMode\": \"faultMode-update\",\n  \"livePic\": \"livePic-update\",\n  \"resultDesc\": \"resultDesc-update\",\n  \"softwarePic\": \"softwarePic-update\",\n  \"frontPic\": \"frontPic-update\",\n  \"nameplatePic\": \"nameplatePic-update\",\n  \"meterPic\": \"meterPic-update\",\n  \"batteryPic\": \"batteryPic-update\",\n  \"otherPic\": \"otherPic-update\",\n  \"dataFile\": \"dataFile-update\",\n  \"otherCost\": \"otherCost-update\",\n  \"remark\": \"remark-update\",\n  \"pauseReason\": \"pauseReason-update\",\n  \"workers\": []\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/repairs/:repairId/record",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"repairs",
								":repairId",
								"record"
							],
							"variable": [
								{
									"id": "8cbc7643-572a-41ff-aed6-958488611214",
									"key": "repairId",
									"value": "{{REPAIR_A}}",
									"type": "string"
								}
							]
						}
					},
					"response": [
						{
							"name": "Response_200",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"signAddress\": \"{{signAddress}}\",\n  \"arrivalAt\": \"{{arrivalAt}}\",\n  \"mileages\": \"{{mileages}}\",\n  \"routeMap\": \"{{routeMap}}\",\n  \"faultCell\": \"{{faultCell}}\",\n  \"workHours\": \"{{workHours}}\",\n  \"failReason\": \"{{failReason}}\",\n  \"processMethod\": \"{{processMethod}}\",\n  \"faultAttr\": \"{{faultAttr}}\",\n  \"faultMode\": \"{{faultMode}}\",\n  \"backups\": \"{{backups}}\",\n  \"livePic\": \"{{livePic}}\",\n  \"resultDesc\": \"{{resultDesc}}\",\n  \"softwarePic\": \"{{softwarePic}}\",\n  \"frontPic\": \"{{frontPic}}\",\n  \"nameplatePic\": \"{{nameplatePic}}\",\n  \"meterPic\": \"{{meterPic}}\",\n  \"batteryPic\": \"{{batteryPic}}\",\n  \"otherPic\": \"{{otherPic}}\",\n  \"dataFile\": \"{{dataFile}}\",\n  \"otherCost\": \"{{otherCost}}\",\n  \"remark\": \"{{remark}}\",\n  \"workers\": \"{{workers}}\",\n  \"pauseReason\": \"{{pauseReason}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/repairs/:repairId/record",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"repairs",
										":repairId",
										"record"
									],
									"variable": [
										{
											"key": "repairId",
											"value": "{{repairId}}"
										}
									]
								}
							},
							"status": "The repair order",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": ""
						}
					]
				},
				{
					"name": "删除 REPAIR_A",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5bf7dc17-c68e-47ee-a2bf-1a47646eabc6",
								"exec": [
									"var Ajv = require('ajv');",
									"var ajv = new Ajv({ logger: console, coerceTypes: true, unknownFormats: [\"int32\"] });",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"  pm.response.to.have.status(204);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/repairs/:repairId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"repairs",
								":repairId"
							],
							"variable": [
								{
									"id": "bcda024d-7dba-4f3c-834a-3affb2c81a6b",
									"key": "repairId",
									"value": "{{REPAIR_A}}",
									"type": "string"
								}
							]
						}
					},
					"response": [
						{
							"name": "Response_204",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/repairs/:repairId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"repairs",
										":repairId"
									],
									"variable": [
										{
											"key": "repairId",
											"value": "{{repairId}}"
										}
									]
								}
							},
							"status": "repair order deleted",
							"code": 204,
							"_postman_previewlanguage": "Text",
							"header": [],
							"cookie": [],
							"body": ""
						}
					]
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"protocolProfileBehavior": {}
}